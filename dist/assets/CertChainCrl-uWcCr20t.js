/* empty css             *//* empty css                 *//* empty css                             */import"./request-DHoSJWvM.js";/* empty css               *//* empty css                 *//* empty css                  */import{a as z,o as c,c as _,b as a,e as l,w as t,D as P,M as F,N as M,h as $,E as O,u as f,a1 as J,p as C,F as q,C as G,j as H,x as y,R,y as E,S as w,s as U,J as K,r as m,U as k,I as Q,V as W,_ as X}from"./index-Cj9AfTnA.js";import{a as Y,b as Z}from"./ca-DeP9Rhzt.js";const ee={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},le={class:"flex gap-2"},te={key:0,class:"space-y-3"},ae={class:"chain-cert__header"},se={class:"pem-block-sm"},oe={class:"flex gap-2"},ne={key:0},ce={class:"flex items-center gap-2"},re={class:"text-xs text-cyan-400 break-all"},ie={class:"flex items-center justify-between mb-2"},ue={class:"pem-block-sm"},de=z({__name:"CertChainCrl",setup(me){const v=m(""),g=m(!1),r=m(null),b=m(""),h=m(!1),s=m(null);async function V(){if(!v.value.trim()){k.warning("è¯·è¾“å…¥åºåˆ—å·");return}g.value=!0;try{r.value=await Y(v.value.trim())}catch{r.value=null}finally{g.value=!1}}async function I(){h.value=!0;try{s.value=await Z(b.value||void 0)}catch{s.value=null}finally{h.value=!1}}function D(i){navigator.clipboard.writeText(i),k.success("å·²å¤åˆ¶")}function B(i){navigator.clipboard.writeText(i),k.success("å·²å¤åˆ¶")}function A(){var o;if(!((o=s.value)!=null&&o.crlPem))return;const i=new Blob([s.value.crlPem],{type:"application/x-pem-file"}),e=URL.createObjectURL(i),u=document.createElement("a");u.href=e,u.download="crl.pem",u.click(),URL.revokeObjectURL(e)}return(i,e)=>{const u=M,o=O,p=$,x=F,N=H,L=P,S=K,T=Q,j=W;return c(),_("div",null,[e[9]||(e[9]=a("div",{class:"page-header"},[a("h2",null,"è¯ä¹¦é“¾ä¸Ž CRL"),a("p",null,"æ‹‰å–å½“å‰ CA è¯ä¹¦é“¾ï¼Œä¸‹è½½æœ€æ–° / è½»é‡çº§ CRL")],-1)),a("div",ee,[l(L,null,{header:t(()=>[...e[3]||(e[3]=[a("span",{class:"font-semibold"},"ðŸ”— è¯ä¹¦é“¾",-1)])]),default:t(()=>[l(x,{label:"è¯ä¹¦åºåˆ—å·",class:"mb-4"},{default:t(()=>[a("div",le,[l(u,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=n=>v.value=n),placeholder:"è¾“å…¥åºåˆ—å·ä»¥æ‹‰å–è¯ä¹¦é“¾"},null,8,["modelValue"]),l(p,{type:"primary",loading:g.value,onClick:V},{default:t(()=>[l(o,{class:"mr-1"},{default:t(()=>[l(f(J))]),_:1}),e[4]||(e[4]=C(" æ‹‰å– ",-1))]),_:1},8,["loading"])])]),_:1}),r.value?(c(),_("div",te,[(c(!0),_(q,null,G(r.value.chain,(n,d)=>(c(),_("div",{key:d,class:"chain-cert"},[a("div",ae,[l(N,{size:"small",type:d===0?"primary":d===r.value.chain.length-1?"success":"info",effect:"dark"},{default:t(()=>[C(y(d===0?"ç»ˆç«¯è¯ä¹¦":d===r.value.chain.length-1?"æ ¹è¯ä¹¦":`ä¸­é—´ CA ${d}`),1)]),_:2},1032,["type"]),l(p,{size:"small",text:"",onClick:pe=>D(n)},{default:t(()=>[l(o,null,{default:t(()=>[l(f(R))]),_:1})]),_:1},8,["onClick"])]),a("pre",se,y(n),1)]))),128))])):E("",!0)]),_:1}),l(L,null,{header:t(()=>[...e[5]||(e[5]=[a("span",{class:"font-semibold"},"ðŸ“œ è¯ä¹¦åŠé”€åˆ—è¡¨ (CRL)",-1)])]),default:t(()=>[l(x,{label:"CA ID (å¯é€‰)",class:"mb-4"},{default:t(()=>[a("div",oe,[l(u,{modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=n=>b.value=n),placeholder:"é»˜è®¤èŽ·å–ä¸» CA çš„ CRL"},null,8,["modelValue"]),l(p,{type:"primary",loading:h.value,onClick:I},{default:t(()=>[l(o,{class:"mr-1"},{default:t(()=>[l(f(w))]),_:1}),e[6]||(e[6]=C(" èŽ·å– CRL ",-1))]),_:1},8,["loading"])])]),_:1}),s.value?(c(),_("div",ne,[s.value.crlUrl?(c(),U(T,{key:0,column:1,border:"",class:"mb-4"},{default:t(()=>[l(S,{label:"Sidecar å¤§å¯¹è±¡ URL"},{default:t(()=>[a("div",ce,[a("code",re,y(s.value.crlUrl),1),l(p,{size:"small",text:"",onClick:e[2]||(e[2]=n=>B(s.value.crlUrl))},{default:t(()=>[l(o,null,{default:t(()=>[l(f(R))]),_:1})]),_:1})])]),_:1})]),_:1})):(c(),U(j,{key:1,title:"å½“å‰æ—  Sidecar å‘å¸ƒ URLï¼ˆå°šæœªæœ‰è¯ä¹¦è¢«åŠé”€ï¼ŒCRL ä¸ºå®žæ—¶ç”Ÿæˆçš„ç©ºåˆ—è¡¨ï¼‰",type:"info",closable:!1,"show-icon":"",class:"mb-4"})),a("div",ie,[e[8]||(e[8]=a("span",{class:"text-sm text-slate-400 font-medium"},"CRL PEM",-1)),l(p,{size:"small",text:"",onClick:A},{default:t(()=>[l(o,{class:"mr-1"},{default:t(()=>[l(f(w))]),_:1}),e[7]||(e[7]=C(" ä¸‹è½½ CRL æ–‡ä»¶ ",-1))]),_:1})]),a("pre",ue,y(s.value.crlPem),1)])):E("",!0)]),_:1})])])}}}),xe=X(de,[["__scopeId","data-v-a567c259"]]);export{xe as default};
