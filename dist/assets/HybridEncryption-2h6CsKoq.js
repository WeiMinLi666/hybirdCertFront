/* empty css             *//* empty css                 *//* empty css                             *//* empty css               */import"./request-DHoSJWvM.js";/* empty css                *//* empty css                  *//* empty css                  *//* empty css                  *//* empty css                 */import{a as S,o as K,c as V,b as o,e,w as l,T,D as h,K as z,L as B,M as F,N as j,W as H,X as Q,h as G,E as J,u as f,P as O,p as r,Y as W,I as X,J as Y,j as Z,x as i,R as D,V as $,y as ee,r as E,f as le,G as te,U as M,_ as oe}from"./index-Cj9AfTnA.js";import{b as ae}from"./enroll-osQp5diG.js";const se={class:"grid grid-cols-1 lg:grid-cols-2 gap-x-6"},ne={class:"grid grid-cols-1 lg:grid-cols-2 gap-x-6"},re={class:"flex gap-2 w-full"},ie={key:0,class:"mt-6 space-y-6"},ce={class:"flex items-center justify-between"},ue={class:"text-cyan-400"},de={class:"text-cyan-400"},pe={class:"pem-block"},me={class:"kmc-url-box"},fe={class:"kmc-url-value"},_e=S({__name:"HybridEncryption",setup(ge){const _=E(),g=E(!1),s=E(null),b=le(()=>{var a;return(a=s.value)!=null&&a.certificatePem?s.value.certificatePem.replace(/\\n/g,`
`):""}),n=te({principalCode:"",pqcAlg:"ML-KEM-768",nonce:""}),I={principalCode:[{required:!0,message:"å¿…å¡«",trigger:"blur"}],pqcAlg:[{required:!0,message:"è¯·é€‰æ‹©ç®—æ³•",trigger:"change"}],nonce:[{required:!0,message:"å¿…å¡«",trigger:"blur"}]};function w(){const a=new Uint8Array(16);crypto.getRandomValues(a),n.nonce=Array.from(a,t=>t.toString(16).padStart(2,"0")).join("")}async function C(){var t;if(await((t=_.value)==null?void 0:t.validate().catch(()=>!1))){g.value=!0;try{s.value=await ae({...n}),M.success("åŠ å¯†è¯ä¹¦ç­¾å‘æˆåŠŸï¼")}catch{}finally{g.value=!1}}}function U(){b.value&&(navigator.clipboard.writeText(b.value),M.success("å·²å¤åˆ¶ PEM åˆ°å‰ªè´´æ¿"))}function L(){var a;(a=s.value)!=null&&a.kmcDistributionUrl&&(navigator.clipboard.writeText(s.value.kmcDistributionUrl),M.success("å·²å¤åˆ¶ URL åˆ°å‰ªè´´æ¿"))}function P(){var a;(a=_.value)==null||a.resetFields(),s.value=null}return(a,t)=>{const k=j,d=F,v=Q,q=H,p=J,c=G,A=z,y=h,x=Z,m=Y,N=X,R=$;return K(),V("div",null,[t[10]||(t[10]=o("div",{class:"page-header"},[o("h2",null,"æ··åˆåŠ å¯†è¯ä¹¦ç”³è¯·"),o("p",null,"ä¸€é”®ç”³è¯· PQC åŠ å¯†è¯ä¹¦ â€” ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆå¯†é’¥å¹¶é€šè¿‡ KMC ä¸‹å‘å¯†é’¥ä¿¡å°")],-1)),e(y,null,{default:l(()=>[e(A,{ref_key:"formRef",ref:_,model:n,rules:I,"label-position":"top",onSubmit:B(C,["prevent"])},{default:l(()=>[o("div",se,[e(d,{label:"ç”³è¯·ä¸»ä½“ç¼–ç  (Principal Code)",prop:"principalCode"},{default:l(()=>[e(k,{modelValue:n.principalCode,"onUpdate:modelValue":t[0]||(t[0]=u=>n.principalCode=u),placeholder:"è®¾å¤‡/ä¸»ä½“å”¯ä¸€ç¼–ç "},null,8,["modelValue"])]),_:1})]),o("div",ne,[e(d,{label:"PQC åŠ å¯†ç®—æ³•",prop:"pqcAlg"},{default:l(()=>[e(q,{modelValue:n.pqcAlg,"onUpdate:modelValue":t[1]||(t[1]=u=>n.pqcAlg=u),placeholder:"é€‰æ‹©åŽé‡å­åŠ å¯†ç®—æ³•",class:"w-full"},{default:l(()=>[e(v,{label:"ML-KEM-512 (Kyber512)",value:"ML-KEM-512"}),e(v,{label:"ML-KEM-768 (Kyber768)",value:"ML-KEM-768"}),e(v,{label:"ML-KEM-1024 (Kyber1024)",value:"ML-KEM-1024"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"éšæœºæ•° (Nonce)",prop:"nonce"},{default:l(()=>[o("div",re,[e(k,{modelValue:n.nonce,"onUpdate:modelValue":t[2]||(t[2]=u=>n.nonce=u),placeholder:"é˜²é‡æ”¾éšæœºæ•°"},null,8,["modelValue"]),e(c,{onClick:w,type:"info",plain:""},{default:l(()=>[e(p,{class:"mr-1"},{default:l(()=>[e(f(O))]),_:1}),t[3]||(t[3]=r(" ç”Ÿæˆ ",-1))]),_:1})])]),_:1})]),e(d,null,{default:l(()=>[e(c,{type:"primary",loading:g.value,onClick:C,size:"large"},{default:l(()=>[e(p,{class:"mr-1"},{default:l(()=>[e(f(W))]),_:1}),t[4]||(t[4]=r(" ä¸€é”®ç”³è¯·åŠ å¯†è¯ä¹¦ ",-1))]),_:1},8,["loading"]),e(c,{onClick:P,size:"large"},{default:l(()=>[...t[5]||(t[5]=[r("é‡ç½®",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(T,{name:"fade-slide"},{default:l(()=>[s.value?(K(),V("div",ie,[e(y,null,{header:l(()=>[o("div",ce,[t[7]||(t[7]=o("span",{class:"font-semibold"},"ðŸ” ç­¾å‘è¯ä¹¦",-1)),e(c,{size:"small",text:"",onClick:U},{default:l(()=>[e(p,{class:"mr-1"},{default:l(()=>[e(f(D))]),_:1}),t[6]||(t[6]=r(" å¤åˆ¶ PEM ",-1))]),_:1})])]),default:l(()=>[e(N,{column:1,border:"",class:"mb-4"},{default:l(()=>[e(m,{label:"è¯·æ±‚ ID"},{default:l(()=>[e(x,{effect:"dark"},{default:l(()=>[r(i(s.value.requestId),1)]),_:1})]),_:1}),e(m,{label:"çŠ¶æ€"},{default:l(()=>[e(x,{type:"success",effect:"dark"},{default:l(()=>[r(i(s.value.status),1)]),_:1})]),_:1}),e(m,{label:"KMC å¯†é’¥ ID"},{default:l(()=>[o("code",ue,i(s.value.kmcKeyId),1)]),_:1}),e(m,{label:"åˆ†å‘å• ID (Distribution ID)"},{default:l(()=>[o("code",de,i(s.value.distributionId),1)]),_:1})]),_:1}),o("pre",pe,i(b.value),1)]),_:1}),e(y,null,{header:l(()=>[...t[8]||(t[8]=[o("span",{class:"font-semibold"},"ðŸ“¦ KMC å¯†é’¥ä¸‹å‘ä¿¡å°",-1)])]),default:l(()=>[e(R,{title:"å¯†é’¥ä¿¡å°å·²é€šè¿‡ KMC åˆ†å‘ï¼Œè¯·é€šè¿‡ä»¥ä¸‹ Sidecar URL èŽ·å–",type:"info",closable:!1,"show-icon":"",class:"mb-4"}),o("div",me,[t[9]||(t[9]=o("span",{class:"kmc-url-label"},"Distribution URL",-1)),o("div",fe,[o("code",null,i(s.value.kmcDistributionUrl),1),e(c,{size:"small",text:"",onClick:L},{default:l(()=>[e(p,null,{default:l(()=>[e(f(D))]),_:1})]),_:1})])])]),_:1})])):ee("",!0)]),_:1})])}}}),we=oe(_e,[["__scopeId","data-v-0a8accc3"]]);export{we as default};
