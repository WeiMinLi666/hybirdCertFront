/* empty css             *//* empty css                *//* empty css                             *//* empty css               */import"./request-DHoSJWvM.js";/* empty css                  *//* empty css                 */import{a as S,o,c,b as a,e,w as t,T as B,p as u,x as i,y as U,r,E as $,D as h,M as F,N as j,Z as G,h as J,u as _,$ as P,s as z,I as Q,J as Z,j as A,R as M,K as H,L as O,a5 as W,a0 as X,U as E,G as Y,_ as ee}from"./index-Cj9AfTnA.js";import{a as te,c as le}from"./kmc-BrNy0mrT.js";const ae={class:"flex gap-4 items-end"},se={class:"text-cyan-400"},oe={key:0,class:"flex items-center gap-2"},ne={class:"text-emerald-400 text-xs break-all"},ue={key:1,class:"text-slate-500"},ie={key:0,class:"kmc-url-box"},re={class:"kmc-url-value"},de={key:1,class:"text-slate-500"},ce={key:0,class:"empty-state mt-10"},me={class:"mt-4 text-slate-400"},fe=S({__name:"KmcDistribution",setup(pe){const w=r(),m=r(""),v=r(!1),C=r(!1),s=r(null);async function K(){if(!m.value.trim()){E.warning("è¯·è¾“å…¥ Distribution ID");return}v.value=!0,C.value=!0;try{s.value=await te(m.value.trim())}catch{s.value=null}finally{v.value=!1}}const g=r(!1),n=r(null),y=Y({keyId:""}),N={keyId:[{required:!0,message:"è¯·è¾“å…¥ Key ID",trigger:"blur"}]};async function R(){var l;if(await((l=w.value)==null?void 0:l.validate().catch(()=>!1))){g.value=!0;try{n.value=await le(y),E.success("å¯†é’¥åˆ†å‘åˆ›å»ºæˆåŠŸï¼")}catch{}finally{g.value=!1}}}function V(I){navigator.clipboard.writeText(I),E.success("å·²å¤åˆ¶ URL åˆ°å‰ªè´´æ¿")}return(I,l)=>{const L=j,D=F,f=$,b=J,k=h,d=Z,x=A,T=Q,q=H;return o(),c("div",null,[l[13]||(l[13]=a("div",{class:"page-header"},[a("h2",null,"KMC å¯†é’¥åˆ†å‘"),a("p",null,"æŸ¥è¯¢å¯†é’¥åˆ†å‘è®°å½•ï¼Œè·å–å¯†é’¥ä¿¡å°ä¸‹è½½åœ°å€")],-1)),e(k,null,{header:t(()=>[...l[4]||(l[4]=[a("span",{class:"font-semibold"},"ğŸ“¦ æŸ¥è¯¢åˆ†å‘è®°å½•",-1)])]),default:t(()=>[a("div",ae,[e(D,{label:"Distribution ID",class:"flex-1 mb-0"},{default:t(()=>[e(L,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=p=>m.value=p),placeholder:"è¾“å…¥å¯†é’¥åˆ†å‘å• ID",clearable:"",onKeyup:G(K,["enter"])},null,8,["modelValue"])]),_:1}),e(b,{type:"primary",loading:v.value,onClick:K,size:"large"},{default:t(()=>[e(f,{class:"mr-1"},{default:t(()=>[e(_(P))]),_:1}),l[5]||(l[5]=u(" æŸ¥è¯¢ ",-1))]),_:1},8,["loading"])])]),_:1}),e(B,{name:"fade-slide"},{default:t(()=>[s.value?(o(),z(k,{key:0,class:"mt-6"},{header:t(()=>[...l[6]||(l[6]=[a("span",{class:"font-semibold"},"ğŸ” åˆ†å‘è¯¦æƒ…",-1)])]),default:t(()=>[e(T,{column:1,border:""},{default:t(()=>[e(d,{label:"Distribution ID"},{default:t(()=>[a("code",se,i(s.value.distributionId),1)]),_:1}),e(d,{label:"çŠ¶æ€"},{default:t(()=>[e(x,{type:s.value.status==="DISTRIBUTED"?"success":"warning",effect:"dark"},{default:t(()=>[u(i(s.value.status),1)]),_:1},8,["type"])]),_:1}),e(d,{label:"å¯†é’¥ä¿¡å° URL"},{default:t(()=>[s.value.packageUrl?(o(),c("div",oe,[a("code",ne,i(s.value.packageUrl),1),e(b,{size:"small",text:"",onClick:l[1]||(l[1]=p=>V(s.value.packageUrl))},{default:t(()=>[e(f,null,{default:t(()=>[e(_(M))]),_:1})]),_:1})])):(o(),c("span",ue,"â€”"))]),_:1})]),_:1})]),_:1})):U("",!0)]),_:1}),e(k,{class:"mt-6"},{header:t(()=>[...l[7]||(l[7]=[a("span",{class:"font-semibold"},"â• æ‰‹åŠ¨åˆ›å»ºå¯†é’¥åˆ†å‘",-1)])]),default:t(()=>[e(q,{ref_key:"formRef",ref:w,model:y,rules:N,"label-position":"top",onSubmit:O(R,["prevent"])},{default:t(()=>[e(D,{label:"Key ID",prop:"keyId"},{default:t(()=>[e(L,{modelValue:y.keyId,"onUpdate:modelValue":l[2]||(l[2]=p=>y.keyId=p),placeholder:"KMC å¯†é’¥ ID"},null,8,["modelValue"])]),_:1}),e(D,null,{default:t(()=>[e(b,{type:"primary",loading:g.value,onClick:R,size:"large"},{default:t(()=>[e(f,{class:"mr-1"},{default:t(()=>[e(_(W))]),_:1}),l[8]||(l[8]=u(" åˆ›å»ºåˆ†å‘ ",-1))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1}),e(B,{name:"fade-slide"},{default:t(()=>[n.value?(o(),z(k,{key:0,class:"mt-6"},{header:t(()=>[...l[9]||(l[9]=[a("span",{class:"font-semibold"},"âœ… åˆ†å‘åˆ›å»ºæˆåŠŸ",-1)])]),default:t(()=>[e(T,{column:1,border:""},{default:t(()=>[e(d,{label:"Distribution ID"},{default:t(()=>[e(x,{effect:"dark"},{default:t(()=>[u(i(n.value.distributionId),1)]),_:1})]),_:1}),e(d,{label:"çŠ¶æ€"},{default:t(()=>[e(x,{type:"success",effect:"dark"},{default:t(()=>[u(i(n.value.status),1)]),_:1})]),_:1}),e(d,{label:"å¯†é’¥ä¿¡å° URL"},{default:t(()=>[n.value.packageUrl?(o(),c("div",ie,[l[10]||(l[10]=a("span",{class:"kmc-url-label"},"Package URL",-1)),a("div",re,[a("code",null,i(n.value.packageUrl),1),e(b,{size:"small",text:"",onClick:l[3]||(l[3]=p=>V(n.value.packageUrl))},{default:t(()=>[e(f,null,{default:t(()=>[e(_(M))]),_:1})]),_:1})])])):(o(),c("span",de,"â€”"))]),_:1})]),_:1})]),_:1})):U("",!0)]),_:1}),C.value&&!s.value&&!v.value?(o(),c("div",ce,[e(f,{size:48,color:"#64748b"},{default:t(()=>[e(_(X))]),_:1}),a("p",me,[l[11]||(l[11]=u("æœªæ‰¾åˆ° ID ä¸º ",-1)),a("code",null,i(m.value),1),l[12]||(l[12]=u(" çš„åˆ†å‘è®°å½•",-1))])])):U("",!0)])}}}),Ue=ee(fe,[["__scopeId","data-v-a196cfd9"]]);export{Ue as default};
