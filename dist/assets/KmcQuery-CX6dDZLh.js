/* empty css             *//* empty css                             *//* empty css               *//* empty css                   *//* empty css                  *//* empty css                  */import"./request-DHoSJWvM.js";/* empty css                 */import{a as V,o as n,c,b as s,e,w as t,T,D as S,M as A,N as M,Z as N,h as q,E as z,u as _,$ as L,p as i,s as b,I as Q,J as $,x as u,j,R as E,a2 as U,Y as F,y as J,r as f,U as g}from"./index-Cj9AfTnA.js";import{g as R,d as Y}from"./kmc-BrNy0mrT.js";const Z={class:"flex gap-4 items-end"},G={class:"flex items-center justify-between"},H={class:"text-cyan-400"},O={class:"text-cyan-400 text-xs"},W={key:0,class:"flex items-center gap-2"},X={class:"text-emerald-400 text-xs truncate max-w-xs"},ee={key:1,class:"text-slate-500"},te={key:0,class:"flex items-center gap-2"},le={class:"text-emerald-400 text-xs truncate max-w-md"},ae={key:1,class:"text-slate-500"},pe=V({__name:"KmcQuery",setup(se){const d=f(""),p=f(!1),y=f(!1),l=f(null);async function k(){if(!d.value.trim()){g.warning("è¯·è¾“å…¥ Key ID");return}p.value=!0;try{l.value=await R(d.value.trim())}catch{l.value=null}finally{p.value=!1}}function I(K){navigator.clipboard.writeText(K),g.success("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}async function C(){if(l.value){y.value=!0;try{await Y(l.value.keyId),l.value.status="DISABLED",g.success("å¯†é’¥å·²ç¦ç”¨")}catch{}finally{y.value=!1}}}return(K,a)=>{const w=M,P=A,r=z,m=q,D=S,h=U,v=j,o=$,B=Q;return n(),c("div",null,[a[7]||(a[7]=s("div",{class:"page-header"},[s("h2",null,"KMC å¯†é’¥æŸ¥è¯¢"),s("p",null,"è¾“å…¥ Key ID æ£€ç´¢ KMC æ‰˜ç®¡å¯†é’¥çŠ¶æ€ï¼Œæ”¯æŒç¦ç”¨æ“ä½œ")],-1)),e(D,null,{default:t(()=>[s("div",Z,[e(P,{label:"Key ID",class:"flex-1 mb-0"},{default:t(()=>[e(w,{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=x=>d.value=x),placeholder:"è¾“å…¥ Key ID",clearable:"",onKeyup:N(k,["enter"])},null,8,["modelValue"])]),_:1}),e(m,{type:"primary",loading:p.value,onClick:k,size:"large"},{default:t(()=>[e(r,{class:"mr-1"},{default:t(()=>[e(_(L))]),_:1}),a[3]||(a[3]=i(" æŸ¥è¯¢ ",-1))]),_:1},8,["loading"])])]),_:1}),e(T,{name:"fade-slide"},{default:t(()=>[l.value?(n(),b(D,{key:0,class:"mt-6"},{header:t(()=>[s("div",G,[a[6]||(a[6]=s("span",{class:"font-semibold"},"ðŸ”‘ å¯†é’¥è¯¦æƒ…",-1)),l.value.status!=="DISABLED"?(n(),b(h,{key:0,title:"ç¡®è®¤ç¦ç”¨æ­¤å¯†é’¥ï¼Ÿ","confirm-button-text":"ç¡®è®¤","cancel-button-text":"å–æ¶ˆ","confirm-button-type":"danger",onConfirm:C},{reference:t(()=>[e(m,{type:"danger",size:"small",loading:y.value},{default:t(()=>[e(r,{class:"mr-1"},{default:t(()=>[e(_(F))]),_:1}),a[4]||(a[4]=i(" ç¦ç”¨å¯†é’¥ ",-1))]),_:1},8,["loading"])]),_:1})):(n(),b(v,{key:1,type:"info",effect:"dark"},{default:t(()=>[...a[5]||(a[5]=[i("å·²ç¦ç”¨",-1)])]),_:1}))])]),default:t(()=>[e(B,{column:2,border:""},{default:t(()=>[e(o,{label:"Key ID"},{default:t(()=>[s("code",H,u(l.value.keyId),1)]),_:1}),e(o,{label:"PQC ç®—æ³•"},{default:t(()=>[e(v,{effect:"plain",type:"info"},{default:t(()=>[i(u(l.value.pqcAlg||"â€”"),1)]),_:1})]),_:1}),e(o,{label:"çŠ¶æ€"},{default:t(()=>[e(v,{type:l.value.status==="ACTIVE"?"success":l.value.status==="DISABLED"?"danger":"warning",effect:"dark"},{default:t(()=>[i(u(l.value.status),1)]),_:1},8,["type"])]),_:1}),e(o,{label:"ç”¨é€”"},{default:t(()=>[i(u(l.value.usage),1)]),_:1}),e(o,{label:"æ‰€å±žä¸»ä½“ ID"},{default:t(()=>[s("code",O,u(l.value.ownerPrincipalId||"â€”"),1)]),_:1}),e(o,{label:"SM2 å…¬é’¥"},{default:t(()=>[l.value.sm2PublicKey?(n(),c("div",W,[s("code",X,u(l.value.sm2PublicKey.substring(0,32))+"...",1),e(m,{size:"small",text:"",onClick:a[1]||(a[1]=x=>I(l.value.sm2PublicKey))},{default:t(()=>[e(r,null,{default:t(()=>[e(_(E))]),_:1})]),_:1})])):(n(),c("span",ee,"â€”"))]),_:1}),e(o,{label:"PQC å…¬é’¥",span:2},{default:t(()=>[l.value.pqcPublicKey?(n(),c("div",te,[s("code",le,u(l.value.pqcPublicKey.substring(0,48))+"...",1),e(m,{size:"small",text:"",onClick:a[2]||(a[2]=x=>I(l.value.pqcPublicKey))},{default:t(()=>[e(r,null,{default:t(()=>[e(_(E))]),_:1})]),_:1})])):(n(),c("span",ae,"â€”"))]),_:1})]),_:1})]),_:1})):J("",!0)]),_:1})])}}});export{pe as default};
